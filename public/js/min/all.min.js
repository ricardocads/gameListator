var gameListator=angular.module("gameListator",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router","firebase"]);!function(e){e.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("edit/:id",{url:"/edit/",templateUrl:"partials/edit-partial.html",controller:"editController"}).state("list",{url:"/",templateUrl:"partials/list-partial.html",controller:"ListController"}).state("about",{url:"/about",templateUrl:"partials/about-partial.html",controller:"AboutController"})}])}(gameListator),function(e){e.controller("AboutController",["$scope",function(e){e.game={id:"",img:"",title:"",console:"",year:"",completed:"",dateCompletion:new Date,notes:""},e.statesCompleted="Yes/No".split("/").map(function(e){return{option:e}}),e.consoles="Mega Drive/Nintendo Switch/Nintendo 64/Playstation 1/Playstation 2/Playstation 3/Playstation 4/Super Nintendo/Xbox 360/Xbox One".split("/").map(function(e){return{name:e}}),e.submit=function(){var t={id:"",img:"",title:e.game.title,console:e.game.console,year:e.game.year,completed:e.game.completed,dateCompletion:e.game.dateCompletion.getMonth()+1+"/"+e.game.dateCompletion.getDate()+"/"+e.game.dateCompletion.getFullYear(),notes:e.game.notes};"No"==t.completed&&(t.dateCompletion="");var o=firebase.database().ref().child("games").push().key;t.id=o;var a={};a["/games/"+o]=t,firebase.database().ref().update(a),window.location="http://localhost:3000/#!/"}}]),e.config(function(e){e.preAssignBindingsEnabled(!0)})}(gameListator),function(e){e.controller("editController",["$scope",function(e){}])}(gameListator),function(e){e.controller("ListController",["$scope",function(e){function t(){n.classList.remove("show"),n.classList.add("hide")}function o(){""===i.value&&(n.classList.remove("hide"),n.classList.add("show"))}function a(){n.classList.remove("hide"),n.classList.add("show")}var n=document.querySelector(".header"),i=document.querySelector(".search-box-input"),l=document.querySelector(".delete");i.addEventListener("focus",t),i.addEventListener("blur",o),l.addEventListener("click",a),e.todos=[];var r=[];firebase.database().ref("/games/").orderByChild("dateCompletion").once("value").then(function(e){e.forEach(function(e){var t=e.val(),o={id:t.id,img:t.img,title:t.title,console:t.console,year:t.year,yearsold:(new Date).getFullYear()-t.year,completed:t.completed,dateCompletion:t.dateCompletion,notes:t.notes};r.unshift(o)})}),e.todos=r,e.removeGame=function(e){console.log("entrou"),firebase.database().ref("/games/").child(e).remove(),window.location.reload()}}])}(gameListator);